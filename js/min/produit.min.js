new Promise((function(e){return e(new URL(window.location.href).searchParams.get("id"))})).then((function(e){return function(e){return fetch("".concat(apiUrl,"/api/cameras/")+e).then((function(e){return 200===e.status?e.json():0})).catch((function(e){console.error(e),alert("La connexion au serveur à échoué, veuillez réactualiser la page !")}))}(e)})).then((function(e){return function(e){for(var t in document.querySelector(".card-title").textContent=e.name,document.querySelector(".card img").src=e.imageUrl,document.querySelector(".card-title").alt=e.name,document.querySelector(".price").innerHTML="".concat(e.price/100,"&#128;"),document.querySelector(".card-text").textContent=e.description,e.lenses){var n=document.createElement("option");e.lenses.hasOwnProperty(t)&&(n.setAttribute("value",t),n.classList.add(".dropdown-item"),n.textContent=e.lenses[t],n.value=e.lenses[t],document.querySelector(".lenseSelector").appendChild(n))}document.querySelector(".addToCart").onclick=function(){return function(e){(function(){var e=document.querySelector(".lenseSelector").value;if("Lenses"!==e)return new Promise((function(t){return t(e)}))})().then((function(t){cart.addItem(e,t),cart.showAmount(),function(){var e=document.querySelector(".modal");document.body.classList.add("modal-open"),e.classList.add("show"),e.style.display="block",e.setAttribute("aria-modal","true"),e.setAttribute("role","dialog"),e.removeAttribute("aria-hidden");var t=document.createElement("div");t.classList.add("modal-backdrop"),t.classList.add("fade"),t.classList.add("show"),document.body.appendChild(t)}()}))}(e)}}(e)})),cart.showAmount();